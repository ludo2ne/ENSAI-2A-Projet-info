---
title: "Analyse fonctionnelle"
description: "[Slides](analyse-fonctionnelle-slides.html)"
author: "Ludovic Deneuville, RÃ©mi PÃ©pin"
format: 
  html:
    toc: true
    toc-location: left
    toc-depth: 2
  revealjs:
    theme: moon
    footer: "[Home](../../index.html) --- [Analyse fonctionnelle](analyse-fonctionnelle.html)"
    slide-number: c/t                    ## collapsed/total
    slide-level: 3
    controls: true
    output-file: analyse-fonctionnelle-slides.html
from: markdown+emoji
lightbox: true
---

## Plan

1. L'analyse fonctionnelle
    - DÃ©finition
    - Diagrammes UML
2. L'architecture logicielle
    - DÃ©finition
    - SÃ©paration des responsabilitÃ©s


:::::: {.hide-html-render}

## Analyse fonctionnelle

<iframe src="https://giphy.com/embed/l0HlQngl0Eja36dlS" width="960" height="540" frameBorder="0" class="giphy-embed no-print" allowFullScreen></iframe>


::: {.notes}
Les questions qu'il faut se poser avant de commencer :

- Qu'est ce qu'on fait ? Qui le fait
- Besoins du client
- FonctionnalitÃ©s requises / optionnelles / bonus
- Bien gÃ©rer les prioritÃ©s
- RÃ©partition des rÃ´les dans l'Ã©quipe

:::

::::::

### Phases d'un projet

- Analyse des besoins
- Planification
- Conception
- DÃ©veloppements
- Recette
- DÃ©ploiement
- Maintenance

::: {.notes}
Dans les projets classiques (Cycle en V), ces phases Ã©taient trÃ¨s sÃ©gmentÃ©es
:::

---

![](./img/balancoire_agile.png)


::: {.notes}
- Important de discuter
- Reformulez
- Utilisez des mots simples
- Imaginez que vous expliquez le projet Ã  vos grands parents
- parler doc, arrivÃ©e sur poste, initiatives
:::

### C'est quoi l'analyse fonctionnelle ?

- PremiÃ¨re Ã©tape de tous les projets
- DÃ©termine les fonctions, acteurs du produit pour rÃ©pondre aux besoins du client
- Diagrammes pour Ã©changer avec le client
- Priorise les travaux

::: {.notes}
- Permet de s'approprier le sujet
- Ce n'est pas du temps perdu car rajouter des fonctionnalitÃ©s non prÃ©vues est extrÃªmement compliquÃ©
- Cette phase sera la premiÃ¨re partie du rapport intermÃ©diaire
:::


### Les questions Ã  se poser

- Quels sont les types d'utilisateurs qui vont utiliser mon application (administrateur, gestionnaire, client...) ?
- Quelles sont les fonctionnalitÃ©s ? FonctionnalitÃ©s communes entre les profils ?
- Comment fonctionnent les processus de l'application ?
- Quels sont les diagrammes Ã  utiliser ?

::: {.notes}
- Pour les premiÃ¨res questions diagramme de cas d'utilisation
- Processus -> diagramme d'activitÃ©
- Pourquoi faire des diagrammes ? D'un coup d'oeil on a toutes les infos
  - Commentez vos diagrammes
:::


### Les diagrammes UML

- Cours de 1A
- UML 2.5, Pascal Roques, Eyrolles, MÃ©mento (bibliothÃ¨que Ensai)

::: {.notes}
- Pas le temps de vous refaire un cours
- Il y a des ressources Ã  la bibliothÃ¨que et sur internet
- Demandez Ã  votre tuteur ce qu'il attend
:::


:::::: {.hide-html-render}
### Questions ?

<iframe src="https://giphy.com/embed/TgF6xfH8V0mZcUyneP" width="960" height="540" frameBorder="0" class="giphy-embed no-print" allowFullScreen></iframe>
::::::

## Architecture logicielle

![](https://media.giphy.com/media/yoJC2s3ppnJ7P8m80M/giphy.gif)


### C'est quoi l'architecture logicielle ?

- Le pendant technique de l'analyse fonctionnelle
- Maintenant que l'on a le qui et quoi, on dÃ©termine le comment
- On dessine le code de notre application
- Vision macro de notre application (agencement des grandes piÃ¨ces)

::: {.notes}
Pour le moment on ne fait pas encore de code.

On va seulement faire une Ã©bauche de notre application avec les composants qui la compose (aussi bien logique que physique).

Par exemple dans votre cas vous allez sÃ»rement avoir :

- Un code python qui tourne sur votre ordinateur
- Un webservice externe qui vous fournis des donnÃ©es
- Une base de donnÃ©es postgres.

C'est dÃ©jÃ  3 composants, mais rapidement on en beaucoup et il faut savoir comment les agencer
:::

:::::: {.hide-html-render}
### Pourquoi c'est important : parallÃ¨le avec l'architecture

![](https://media.giphy.com/media/3o6MbsNhExCQT940Le/giphy-downsized.gif)
::::::

### Pourquoi c'est important : parallÃ¨le avec l'architecture

- PiÃ¨ces, l'installation Ã©lectrique, l'eau, le gaz, contraintes lÃ©gislatives, s'adapter au terrain...
- Besoin de rÃ©flÃ©chir comment il faut agencer tout Ã§a dÃ¨s le dÃ©but
- Si on construit au fil de l'eau, on risque d'avoir une maison incohÃ©rente (au mieux)
- **Ce n'est pas du temps perdu !**

::: {.notes}
Certaines personnes disent mÃªme qu'on devrait passer plus de temps Ã  analyser qu'Ã  coder. Sujet Ã  dÃ©bat, mais cela montre bien que la phase d'analyse (comment je code les fonctions) est super importante !  
ChatGPT peut presque coder Ã  notre place.
:::

### Un grand principe : separation of concerns

![](img/couches.png)

::: {.notes}
Version macro en 3 couches.

- PrÃ©sentation : tout ce qui se charge de l'affichage
- Business : c'est le mÃ©tier de votre application, sa plus-value
- Data : stockage des donnÃ©es

Chaque couche communique avec celles adjacentes.  
Une couche a juste Ã  savoir comment elle doit demander une information et ce qu'on lui retourne.  
Pas Ã©vident mais trÃ¨s important !!!
:::

### Les principales couches d'une application

- **_PrÃ©sentation :_** tout ce qui se charge de l'affichage (page web, console, fenÃªtre)
- **_MÃ©tier :_** c'est le mÃ©tier de votre application, sa **plus-value**
- **_Persistance :_** gÃ¨re la persistance des donnÃ©es. Base de donnÃ©es ou systÃ¨me de fichiers

### Pour votre projet

- **_PrÃ©sentation :_** terminal
- **_MÃ©tier :_** votre code Python
- **_Persistance :_** base de donnÃ©es

::: {.notes}
Exemple page web
:::

### Zoom sur la couche mÃ©tier

![](img/couche_metier.png)

::: {.notes}
Ã€ l'intÃ©rieur de la couche MÃ©tier, il y a plusieurs sous-couches.

Dans les TP :

- Couche prÃ©sentation : View (on navigue entre des vues)
- DAO, business_object, service
- ContrÃ´leur (client) : Il reÃ§oit les demandes de l'utilisateur via l'interface utilisateur (par exemple, une requÃªte HTTP dans le cas d'une application Web) et appelle les services appropriÃ©s pour exÃ©cuter les actions demandÃ©es.
:::

### Les couches de la couche mÃ©tier 1/2

- **_DAO_ (_Data access object_) :**
  - C'est la partie de votre code qui communique avec la base de donnÃ©es (CM4/TP4)
  
- **_Service :_**
  - Code mÃ©tier
  - Manipule des objets mÃ©tiers pour crÃ©er de l'information ou de la valeur
  - Demande des objets Ã  la couche DAO (TP4)
  - Appelle les webservices externes (TP3)

### Les couches de la couche mÃ©tier 2/2

- **_Objets mÃ©tiers :_**
  - Couche transversale
  - ReprÃ©sentent des concepts mÃ©tiers que votre code va manipuler
  - Objets avec surtout des attributs et peu de mÃ©thodes

- **_ContrÃ´leur :_**
  - RÃ©cupÃ¨re les inputs des utilisateurs
  - Renvoie les donnÃ©es Ã  afficher

::: {.notes}
On dÃ©coupe les objets :

- Attributs -> Objets mÃ©tiers (~DTO)
- MÃ©thodes -> Services
:::

### Pourquoi sÃ©parer en couches ?

- Travail en groupe ğŸ¦¸â€â™€ï¸ğŸ§™â€â™‚ï¸ğŸ‘¨â€ğŸ’¼ğŸ‘©â€ğŸ”¬
- LisibilitÃ© du code ğŸ“–
- DÃ©bogages ğŸ

> **Limiter les risques d'erreurs quand on modifie le code (Ã©viter l'assiette de spaghetti) ğŸ**

::: {.notes}
Il faut savoir qu'un code doit Ãªtre lisible par les autres.  
Et les autres, Ã§a peut Ãªtre soi-mÃªme dans 2 mois. Blague sur la relecture de code.  
Si on a un code bien sÃ©parÃ©, diffÃ©rentes Ã©quipes peuvent travailler en parallÃ¨le.  
Et sÃ©parer en couches permet de trouver rapidement la source du problÃ¨me.
:::

### Informations Ã  retenir

- Passer du temps Ã  rÃ©flÃ©chir aux diffÃ©rents modules d'une application n'est pas une perte de temps ğŸ•µï¸â€â™€ï¸
- Diviser en couches permet de travailler en parallÃ¨le ğŸ§ªğŸ§«ğŸ“š
- Mais il faut encore rÃ©flÃ©chir Ã  comment bien coder ğŸ¤–

::: {.notes}
Possible en projet de se rÃ©partir les couches.
:::
